extends includes/structure.jade

block append scripts
	script(rel='text/javascript', src='http://#{loc}/ace/ace.js')
	script(rel='text/javascript', src='http://#{loc}/ace/ext-language_tools.js')

	script(rel='text/javascript', src='http://#{loc}/ide/core.js')

block headerAddition
	+title("Development Environment")
	div.section
		a(href='http://#{loc}/#{snippet.poster.username}/#{snippet.snid}')
			svg.icon
				use(xlink:href="http://#{loc}/icons.svg#shape-back")
	
block append body
	div#IDE.ide(ng-controller='ide')
		pre#editor(snid='#{snippet.snid}' ng-data='#{snippet.snid}' editor) #{snippet.content} 
		iframe#display(frameborder=0 scrolling='no')
		
	
	
	div
		div(ng-controller='activeUsers')
			div(id='activeUsers')
				div(ng-repeat='user in users' rel='{{user.username}}')
					img.userIcon(ng-style='{borderColor: user.color}' ng-src='{{user.icon}}')
			div#cursorHold()
				div.cursor(ng-repeat='cursor in cursors' ng-style='{ left : cursor.pos.display.pageX, top : cursor.pos.display.pageY, display : block, borderLeftColor : cursor.color }')
